<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLWLIMOU | Portfolio</title>
    <style>
        /* 样式保持你的酷黑风格 */
        html { scroll-behavior: smooth; }
        body { background: #0a0a0a; color: #e0e0e0; font-family: sans-serif; margin: 0; }
        .container { width: 92%; max-width: 1400px; margin: 0 auto; }
        
        nav { width: 100%; position: sticky; top: 0; background: rgba(10,10,10,0.85); backdrop-filter: blur(12px); border-bottom: 1px solid #222; z-index: 100; }
        .nav-inner { padding: 25px 0; display: flex; justify-content: space-between; align-items: center; width: 92%; max-width: 1400px; margin: 0 auto; }
        .logo { color: #ffcc00; font-weight: bold; font-size: 1.4rem; letter-spacing: 2px; }
        
        .hero { padding: 120px 0; border-bottom: 1px solid #222; }
        .hero h1 { font-size: clamp(2.5rem, 6vw, 4.5rem); margin: 0; color: #fff; line-height: 1.1; }
        #about-text { font-size: 1.2rem; color: #888; max-width: 800px; line-height: 1.8; margin-top: 20px; }

        .category-section { margin-top: 80px; }
        .cat-title { color: #ffcc00; border-left: 3px solid #ffcc00; padding-left: 15px; margin-bottom: 30px; text-transform: uppercase; letter-spacing: 4px; font-size: 0.9rem; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); gap: 30px; }
        .item { background: #111; border-radius: 12px; overflow: hidden; border: 1px solid #222; transition: 0.4s; }
        .item:hover { border-color: #ffcc00; transform: translateY(-5px); }
        .media { width: 100%; aspect-ratio: 16/9; background: #000; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        video, img { width: 100%; height: 100%; object-fit: cover; }
        .info { padding: 15px; font-size: 0.9rem; color: #666; background: #161616; border-top: 1px solid #222; }

        .footer-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; padding: 100px 0; border-top: 1px solid #222; margin-top: 100px; }
        .contact-card { background: #111; padding: 30px; border-radius: 12px; border: 1px solid #222; }
        .label { color: #ffcc00; font-size: 0.7rem; letter-spacing: 2px; display: block; margin-bottom: 10px; }
        .val { font-size: 1.2rem; color: #fff; font-family: monospace; }
        
        .dl-btn { display: inline-block; padding: 15px 40px; border: 1px solid #ffcc00; color: #ffcc00; text-decoration: none; border-radius: 40px; font-weight: bold; transition: 0.3s; margin-top: 20px; }
        .dl-btn:hover { background: #ffcc00; color: #000; }
        footer { padding: 60px 0; text-align: center; color: #333; font-size: 0.8rem; }
    </style>
</head>
<body>

<nav><div class="nav-inner"><div class="logo">JLWLIMOU</div></div></nav>

<div class="container">
    <header class="hero">
        <h1>Focus on<br>Maya Animation.</h1>
        <p id="about-text">加载中...</p>
    </header>

    <div id="main-content"></div>

    <div class="footer-info">
        <div class="contact-card">
            <span class="label">CONTACT</span>
            <div style="margin-bottom: 15px;">
                <small style="color:#555">Email:</small> <span id="email-val" class="val">-</span>
            </div>
            <div>
                <small style="color:#555">Phone:</small> <span id="phone-val" class="val">-</span>
            </div>
        </div>
        <div class="contact-card" style="text-align: center;">
            <span class="label">RESUME</span>
            <a href="resume.pdf" class="dl-btn">下载个人简历 (PDF)</a>
        </div>
    </div>

    <footer>&copy; 2025 JLWLIMOU. Designed for Motion.</footer>
</div>

<script>
    async function loadData() {
        try {
            // 加载 JSON 数据
            const res = await fetch('data.json?t=' + Date.now());
            if (!res.ok) throw new Error('无法读取 data.json');
            const data = await res.json();
            
            // 1. 填充文本信息 (增加安全检查)
            if (data.about) document.getElementById('about-text').innerText = data.about;
            if (data.email) document.getElementById('email-val').innerText = data.email;
            if (data.phone) document.getElementById('phone-val').innerText = data.phone;

            // 2. 渲染分类和作品
            const container = document.getElementById('main-content');
            container.innerHTML = ''; // 清空加载提示

            if (data.categories && data.categories.length > 0) {
                data.categories.forEach(cat => {
                    const section = document.createElement('section');
                    section.className = 'category-section';
                    
                    // 生成该分类下的作品 HTML
                    const itemsHTML = cat.items.map(item => `
                        <div class="item">
                            <div class="media">
                                ${item.type === 'video' 
                                    ? `<video src="${item.url}" loop muted playsinline onmouseover="this.play()" onmouseout="this.pause()"></video>` 
                                    : `<img src="${item.url}" alt="${item.title}">`}
                            </div>
                            <div class="info">${item.title || 'Untitled'}</div>
                        </div>
                    `).join('');

                    section.innerHTML = `
                        <h2 class="cat-title">${cat.name}</h2>
                        <div class="grid">${itemsHTML}</div>
                    `;
                    container.appendChild(section);
                });
            } else {
                container.innerHTML = '<p style="text-align:center; color:#444; margin-top:50px;">作品集正在整理中...</p>';
            }

        } catch (err) {
            console.error("加载失败:", err);
            document.getElementById('about-text').innerText = "数据加载失败，请检查 data.json 是否存在。";
        }
    }

    // 页面加载完成后运行
    window.onload = loadData;
</script>

</body>
</html>

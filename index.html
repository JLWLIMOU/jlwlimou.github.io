<script>
    async function loadData() {
        const res = await fetch('data.json?t=' + Date.now());
        const data = await res.json();
        
        // 同步基础信息
        document.getElementById('about-text').innerText = data.about;
        document.getElementById('email-val').innerText = data.email;
        document.getElementById('phone-val').innerText = data.phone;

        const container = document.getElementById('main-content');
        container.innerHTML = '';

        data.categories.forEach(cat => {
            const section = document.createElement('section');
            section.className = 'category-section';
            section.innerHTML = `
                <h2 class="cat-title">${cat.name}</h2>
                <div class="grid">${cat.items.map(item => `
                    <div class="item">
                        <div class="media">
                            ${item.type === 'video' 
                                ? `<video src="${item.url}" loop muted onmouseover="this.play()" onmouseout="this.pause()"></video>` 
                                : `<img src="${item.url}">`}
                        </div>
                        <div class="info">${item.title}</div>
                    </div>
                `).join('')}</div>
            `;
            container.appendChild(section);
        });
    }
    loadData();
</script>
